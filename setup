#!/usr/bin/env bash

DOTFILES_DIR=$HOME/dotfiles

not_installed() {
  [ -z "$(dpkg -l | awk "/^ii  $1/")" ]
}

banner() {
  echo "=== $1 "
}

banner "Installing tools"
./install-tools

# Install stow if not already installed
if not_installed stow; then
  banner "Installing stow"
  sudo apt install stow
fi

banner "Configuring Bash"
rm ${HOME}/.bash_aliases
stow bash

banner "Configuring ~/bin"
mkdir -p "${HOME}/bin"
stow bin

banner "Configuring Tmux"
mkdir -p "${HOME}/.config/tmux"
stow tmux

banner "Configuring Alacritty"
mkdir -p "${HOME}/.config/alacritty"
stow alacritty

banner "Configuring Fish shell"
mkdir -p "${HOME}/.config/fish"
stow fish

banner "Configuring Ruby"
stow ruby

banner "Configuring Neovim"
mkdir -p "${HOME}/.config/nvim"
stow nvim

banner "Configuring Zellij"
mkdir -p "${HOME}/.config/zellij"
stow zellij

banner "Configuring Fonts"
mkdir -p "${HOME}/.local/share/fonts"
stow fonts

