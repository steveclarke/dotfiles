#!/usr/bin/env ruby

require 'commander/import'


# -------------------------------------------------------------------------
#        __ ___ _  _    ___ __  ___ ___ _    _ __ ___  ___  ___           |
#       / _)  _) \( )  (  ,\  )/ __) __) \/\/ )  \  ,)(   \/ __)          |
#      ( (/\) _))  (    ) _/__\\__ \__ \\    / () )  \ ) ) )__ \          |
#       \__/___)_)\_)  (_)(_)(_)___/___/ \/\/ \__/_)\_)___/(___/          |
#                                                                         |
# -------------------------------------------------------------------------

# For the shell!


module Shen
VERSION = '1.0.0'

program :name, "Shen"
program :version, Shen::VERSION
program :description, 'A shell utility based off the Gen Chrome Extension.'

command :shen do |c|
  c.syntax = 'shen [options]'
  c.action do |args, options|
    puts ''
    puts "
          Thanks for using Shen.
          Please visit 'shen help' for a list of
          commands and options.

          You are currently running version #{Shen::VERSION}.
          "
    puts ''
  end
end
 
command :help do |c|
  c.syntax = 'shen help [options]'
  c.summary = ''
  c.description = ''
  c.example 'description', 'command example'
  c.option '--some-switch', 'Some switch that does something'
  c.action do |args, options|
    puts ''
    puts ''
    puts '

    =======================================
    Welcome to Gen Passwords for the shell!
    =======================================

    Commands:
      pw - generate a password
      version - return the version
      help - return this message
    '

      puts ''
      puts ''
  end
end

command :pw do |c|
  c.syntax = 'shen [options] pw'
  c.summary = ''
  c.description = ''
  c.example 'description', 'command example'
  c.option '-ec', 'Exclude capitals from the password.'
  c.option '-es', "Exclude symbols from the password."
  c.option '-en', "Excludes numbers from the password."
  c.action do |args, options| 
  
  phonetics1 = ["ah", "blo", "pa",'sha', 'lo', 'ca', 're', 'te', 've', 'au', 'op', 'li', 'cha', 'tho', 'yar', 'ub', 'ol', 'pla', 'ja', 'mel', 'tri', 'ta', 'mya', 'gar', 've', 'po', 'my', 'il', 'ok', 'ra', 'ki', 'pi', 'pla', 'kra', 'sho', 'la', 'osh', 'wer', 'ul', 'al', 'ar', 'jo', 'to', 'tro', 'who', 'as', 'ash',  'yu',  'wa', 'er', 'es', "ka"]
  phonetics2 = ["afo", "oc", "oo", "aph", "oll", "ata", "ash", "fo", "go", "og", "ya", "za", "du", "ha", "lo", "to", "yo", "pa", "ta", "la", "po", "op", "ba", "be", "bo", "ma", "mo", "me", "em", "ee", "ye", "pe"]
  

  capitals = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]
  numbers  = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']
  symbols  = ['@', '!', '$', '%', '?', '~', '&', '*', '^', '#']
  jumble   = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '@', '!', '?', '*', '&', '$', '#', '^', '~']

  if options.default(:ec)
    capitals = ['']
  end

  password = phonetics1.sample + phonetics2.sample + capitals.sample + numbers.sample + symbols.sample

    puts '==================='
    puts "    #{password}"
    puts '==================='
  end
end

command :version do |c|
  c.syntax = 'shen version [options]'
  c.action do |args, options|
    puts ''
    puts " You are currently running Shen #{Shen::VERSION}"
    puts ''
  end
end

end
